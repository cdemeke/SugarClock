<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Setup Guide — SugarClock</title>
  <meta name="description" content="Step-by-step guide to set up your SugarClock DIY CGM display. No coding experience needed.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ========== NAVIGATION ========== -->
  <nav class="site-nav">
    <div class="container">
      <a href="index.html" class="nav-brand">
        <span class="brand-dot"></span> SugarClock
      </a>
      <button class="nav-toggle" aria-label="Open menu" onclick="document.querySelector('.nav-links').classList.toggle('open')">
        <span></span><span></span><span></span>
      </button>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="setup.html" class="active">Setup Guide</a></li>
        <li><a href="support.html">Help &amp; FAQ</a></li>
        <li><a href="index.html#get-started" class="btn btn-primary" style="padding:0.5rem 1.25rem; font-size:0.9rem;">Get Started</a></li>
      </ul>
    </div>
  </nav>

  <!-- ========== HERO ========== -->
  <section class="hero" style="padding: var(--space-lg) 0;">
    <div class="container">
      <h1>Setup Guide</h1>
      <p class="subtitle">
        Follow these steps to go from a brand-new Ulanzi TC001 clock to a working glucose display.
        No coding experience required &mdash; we'll walk you through every step.
      </p>
      <div class="callout callout-info" style="max-width:600px; margin: var(--space-md) auto 0;">
        <span class="callout-icon">&#8505;&#65039;</span>
        <div>
          <strong>Estimated effort:</strong> The whole process involves ordering hardware, installing
          a small program on your computer, and copying the software to the clock. Most of the time
          is just waiting for the clock to arrive!
        </div>
      </div>
    </div>
  </section>

  <!-- ========== GUIDE CONTENT ========== -->
  <section style="padding-top: var(--space-md);">
    <div class="container">
      <div class="guide-layout">

        <!-- Sidebar navigation -->
        <aside>
          <div class="guide-nav">
            <h4>On this page</h4>
            <ul>
              <li><a href="#what-you-need">What you need</a></li>
              <li><a href="#step-1">Step 1: Order the hardware</a></li>
              <li><a href="#step-2">Step 2: Install tools on your computer</a></li>
              <li><a href="#step-3">Step 3: Download the SugarClock software</a></li>
              <li><a href="#step-4">Step 4: Connect the clock</a></li>
              <li><a href="#step-5">Step 5: Install the software on the clock</a></li>
              <li><a href="#step-6">Step 6: Connect to WiFi</a></li>
              <li><a href="#step-7">Step 7: Connect your glucose data</a></li>
              <li><a href="#step-8">Step 8: Customize your display</a></li>
              <li><a href="#understanding">Understanding the display</a></li>
              <li><a href="#buttons">Using the buttons</a></li>
              <li><a href="#troubleshooting">Troubleshooting</a></li>
            </ul>
          </div>
        </aside>

        <!-- Main content -->
        <div class="guide-content">

          <!-- WHAT YOU NEED -->
          <h2 id="what-you-need">What you'll need</h2>
          <p>Before we start, here's everything you'll need to gather. Most people only need to buy the clock &mdash; you probably already have everything else.</p>

          <ul class="shopping-list">
            <li>
              <span class="shopping-item-icon">&#128339;</span>
              <div class="shopping-item-details">
                <h4>Ulanzi TC001 Smart Pixel Clock</h4>
                <p>The LED display that becomes your glucose monitor. Available on Amazon.</p>
              </div>
              <span class="shopping-item-price">~$40&ndash;50</span>
            </li>
            <li>
              <span class="shopping-item-icon">&#128268;</span>
              <div class="shopping-item-details">
                <h4>USB-C data cable</h4>
                <p>One is included with the clock, but a higher-quality cable is recommended. Make sure it's a <strong>data</strong> cable, not a charge-only cable.</p>
              </div>
              <span class="shopping-item-price">Included</span>
            </li>
            <li>
              <span class="shopping-item-icon">&#128187;</span>
              <div class="shopping-item-details">
                <h4>A computer (Windows, Mac, or Linux)</h4>
                <p>You only need the computer for the initial setup. After that, the clock runs on its own.</p>
              </div>
              <span class="shopping-item-price">You have this</span>
            </li>
            <li>
              <span class="shopping-item-icon">&#128246;</span>
              <div class="shopping-item-details">
                <h4>WiFi network (2.4 GHz)</h4>
                <p>The clock connects to your home WiFi to fetch glucose data. It must be a 2.4 GHz network (most home routers broadcast both 2.4 and 5 GHz).</p>
              </div>
              <span class="shopping-item-price">You have this</span>
            </li>
            <li>
              <span class="shopping-item-icon">&#128137;</span>
              <div class="shopping-item-details">
                <h4>Dexcom account OR Nightscout URL</h4>
                <p>Your glucose data source. If you use a Dexcom CGM, you just need your Dexcom username and password. If you use Nightscout, you need your Nightscout URL.</p>
              </div>
              <span class="shopping-item-price">You have this</span>
            </li>
          </ul>

          <div class="callout callout-warning">
            <span class="callout-icon">&#9888;&#65039;</span>
            <div>
              <strong>About USB-C cables:</strong> Some cheap USB-C cables only carry power, not data.
              If your computer doesn't recognize the clock when you plug it in, try a different cable.
              The cable that came with your phone usually works fine.
            </div>
          </div>

          <!-- STEP 1 -->
          <h2 id="step-1">Step 1: Order the hardware</h2>
          <p>
            Order the <strong>Ulanzi TC001 Smart Pixel Clock</strong> from Amazon or another retailer.
            It's a small desktop clock with a colorful LED display &mdash; the same kind of display used
            in pixel art projects.
          </p>

          <div class="img-placeholder">
            <span class="placeholder-icon">&#128722;</span>
            <span>Screenshot: Ulanzi TC001 product listing on Amazon (~$40&ndash;50)</span>
          </div>

          <div class="callout callout-info" style="margin-top: var(--space-sm);">
            <span class="callout-icon">&#128161;</span>
            <div>
              <strong>Tip:</strong> While you wait for the clock to arrive, you can get a head start
              by doing Steps 2 and 3 below (installing the tools and downloading the software).
            </div>
          </div>

          <!-- STEP 2 -->
          <h2 id="step-2">Step 2: Install tools on your computer</h2>
          <p>
            You need two small programs on your computer. You'll only need them for the initial setup &mdash;
            after that, the clock runs independently.
          </p>

          <h3>2a. Install Python</h3>
          <p>
            Python is a programming language that we use to run the setup tools. You might already have it installed.
          </p>
          <p>
            <strong>Check if you already have Python:</strong> Open a terminal (on Mac: search for "Terminal" in Spotlight;
            on Windows: search for "Command Prompt" or "PowerShell") and type:
          </p>

          <div style="background: var(--charcoal); color: #a8e6cf; border-radius: var(--radius-sm); padding: 1rem 1.25rem; font-family: monospace; font-size: 0.9rem; margin: var(--space-sm) 0; overflow-x: auto;">
            python3 --version
          </div>

          <p>If you see a version number (like <code>Python 3.10.0</code>), you're good! If not:</p>
          <ul>
            <li><strong>Mac:</strong> Download Python from <a href="https://www.python.org/downloads/" target="_blank" rel="noopener">python.org/downloads</a></li>
            <li><strong>Windows:</strong> Download from <a href="https://www.python.org/downloads/" target="_blank" rel="noopener">python.org/downloads</a> &mdash; <strong>important: check the box that says "Add Python to PATH"</strong> during installation</li>
            <li><strong>Linux:</strong> It's usually already installed. If not: <code>sudo apt install python3 python3-pip</code></li>
          </ul>

          <div class="img-placeholder img-placeholder-sm">
            <span class="placeholder-icon">&#128248;</span>
            <span>Screenshot: Python installer on Windows with "Add to PATH" checkbox highlighted</span>
          </div>

          <h3>2b. Install PlatformIO</h3>
          <p>
            PlatformIO is the tool that copies the SugarClock software onto the clock. Install it by opening
            a terminal and typing:
          </p>

          <div style="background: var(--charcoal); color: #a8e6cf; border-radius: var(--radius-sm); padding: 1rem 1.25rem; font-family: monospace; font-size: 0.9rem; margin: var(--space-sm) 0; overflow-x: auto;">
            pip install platformio
          </div>

          <div class="callout callout-info">
            <span class="callout-icon">&#128161;</span>
            <div>
              <strong>What's a terminal?</strong> A terminal is a text-based window where you type commands.
              On <strong>Mac</strong>, search for "Terminal" in Spotlight (Cmd + Space).
              On <strong>Windows</strong>, search for "PowerShell" in the Start menu.
              You just type the commands shown in the dark boxes and press Enter.
            </div>
          </div>

          <h3>2c. Install the USB driver (Windows only)</h3>
          <p>
            The clock uses a CH340 chip to communicate over USB. Mac and Linux usually support this
            automatically, but Windows needs a small driver installed.
          </p>
          <ul>
            <li><strong>Windows:</strong> Download and run the <a href="https://sparks.gogo.co.nz/ch340.html" target="_blank" rel="noopener">CH340 driver installer</a></li>
            <li><strong>Mac:</strong> Usually works automatically. If not, download the driver from the same link above.</li>
            <li><strong>Linux:</strong> No action needed &mdash; it's built into the system.</li>
          </ul>

          <!-- STEP 3 -->
          <h2 id="step-3">Step 3: Download the SugarClock software</h2>
          <p>
            Download the SugarClock project files to your computer. Open your terminal and type these commands:
          </p>

          <div style="background: var(--charcoal); color: #a8e6cf; border-radius: var(--radius-sm); padding: 1rem 1.25rem; font-family: monospace; font-size: 0.9rem; margin: var(--space-sm) 0; overflow-x: auto; line-height: 1.8;">
            <span style="color: #888;">## Download the project</span><br>
            git clone https://github.com/cdemeke/SugarClock.git<br><br>
            <span style="color: #888;">## Go into the project folder</span><br>
            cd SugarClock<br><br>
            <span style="color: #888;">## Build the software (this downloads some files the first time &mdash; be patient!)</span><br>
            pio run<br><br>
            <span style="color: #888;">## Build the web interface</span><br>
            pio run --target buildfs
          </div>

          <div class="callout callout-info">
            <span class="callout-icon">&#128161;</span>
            <div>
              <strong>Don't have git?</strong> If the <code>git clone</code> command doesn't work, you can
              download the project as a ZIP file from the GitHub page instead. Look for the green "Code" button
              and click "Download ZIP", then unzip it and open a terminal in that folder.
            </div>
          </div>

          <p>
            When the build finishes, you should see a message that says <strong>SUCCESS</strong>. If you see an
            error instead, check the <a href="#troubleshooting">troubleshooting section</a> below.
          </p>

          <div class="img-placeholder img-placeholder-sm">
            <span class="placeholder-icon">&#128248;</span>
            <span>Screenshot: Terminal showing successful build output with "SUCCESS" message</span>
          </div>

          <!-- STEP 4 -->
          <h2 id="step-4">Step 4: Connect the clock to your computer</h2>
          <p>Now let's connect the physical clock to your computer.</p>
          <ol>
            <li>Take the Ulanzi TC001 clock out of its box</li>
            <li>Plug the USB-C cable into the back of the clock</li>
            <li>Plug the other end into your computer</li>
            <li>The clock should light up &mdash; it will show its factory demo</li>
          </ol>

          <div class="img-placeholder">
            <span class="placeholder-icon">&#128268;</span>
            <span>Photo: Plugging a USB-C cable into the back of the Ulanzi TC001</span>
          </div>

          <div class="callout callout-warning">
            <span class="callout-icon">&#9888;&#65039;</span>
            <div>
              <strong>Important:</strong> Connect the cable directly to your computer, not through a USB hub.
              Hubs can sometimes cause connection problems.
            </div>
          </div>

          <!-- STEP 5 -->
          <h2 id="step-5">Step 5: Install the software on the clock</h2>
          <p>
            This is the "flashing" step &mdash; which just means copying the SugarClock software from
            your computer onto the clock. Run these two commands in your terminal:
          </p>

          <div style="background: var(--charcoal); color: #a8e6cf; border-radius: var(--radius-sm); padding: 1rem 1.25rem; font-family: monospace; font-size: 0.9rem; margin: var(--space-sm) 0; overflow-x: auto; line-height: 1.8;">
            <span style="color: #888;">## Copy the main software to the clock</span><br>
            pio run --target upload<br><br>
            <span style="color: #888;">## Copy the web interface to the clock</span><br>
            pio run --target uploadfs
          </div>

          <p>Each command will show a progress bar. When it says <strong>SUCCESS</strong>, you're done with that step.</p>

          <div class="callout callout-warning">
            <span class="callout-icon">&#9888;&#65039;</span>
            <div>
              <strong>If the upload fails:</strong>
              <ol style="margin-top: 0.5rem; margin-bottom: 0;">
                <li>Unplug the USB cable from the clock</li>
                <li>Press and <strong>hold</strong> the middle button on the clock</li>
                <li>While holding the button, plug the USB cable back in</li>
                <li>Wait 1&ndash;2 seconds, then release the button</li>
                <li>Try the upload command again</li>
              </ol>
            </div>
          </div>

          <div class="callout callout-success">
            <span class="callout-icon">&#127881;</span>
            <div>
              <strong>You did it!</strong> After both commands succeed, the clock should restart and briefly
              show "SUGAR" in teal, then show "SETUP" in white. This is normal &mdash; it means the software
              is installed and ready to be configured!
            </div>
          </div>

          <div class="img-placeholder img-placeholder-sm">
            <span class="placeholder-icon">&#128248;</span>
            <span>Photo: Clock displaying "SETUP" in white text after successful flash</span>
          </div>

          <!-- STEP 6 -->
          <h2 id="step-6">Step 6: Connect to WiFi</h2>
          <p>
            The clock needs WiFi to fetch your glucose readings. The easiest way to set this up
            is by editing one file before the flash, then re-flashing.
          </p>

          <h3>How to set your WiFi credentials</h3>
          <ol>
            <li>Open the project folder on your computer</li>
            <li>Find the file <code>src/config_manager.cpp</code></li>
            <li>Open it in any text editor (Notepad on Windows, TextEdit on Mac)</li>
            <li>Find the lines that look like this:
              <div style="background: var(--charcoal); color: #a8e6cf; border-radius: var(--radius-sm); padding: 1rem 1.25rem; font-family: monospace; font-size: 0.9rem; margin: var(--space-xs) 0; overflow-x: auto;">
                strncpy(config.wifi_ssid, "", sizeof(config.wifi_ssid));<br>
                strncpy(config.wifi_password, "", sizeof(config.wifi_password));
              </div>
            </li>
            <li>Type your WiFi network name and password between the quotes:
              <div style="background: var(--charcoal); color: #a8e6cf; border-radius: var(--radius-sm); padding: 1rem 1.25rem; font-family: monospace; font-size: 0.9rem; margin: var(--space-xs) 0; overflow-x: auto;">
                strncpy(config.wifi_ssid, "<strong style="color:#f9e79f;">MyHomeWiFi</strong>", sizeof(config.wifi_ssid));<br>
                strncpy(config.wifi_password, "<strong style="color:#f9e79f;">MyWiFiPassword123</strong>", sizeof(config.wifi_password));
              </div>
            </li>
            <li>Save the file</li>
            <li>Re-run the build and upload commands from Steps 3 and 5:
              <div style="background: var(--charcoal); color: #a8e6cf; border-radius: var(--radius-sm); padding: 1rem 1.25rem; font-family: monospace; font-size: 0.9rem; margin: var(--space-xs) 0; overflow-x: auto;">
                pio run &amp;&amp; pio run --target upload
              </div>
            </li>
          </ol>

          <div class="callout callout-success">
            <span class="callout-icon">&#9989;</span>
            <div>
              <strong>What to expect:</strong> After uploading, the clock will restart and connect to your WiFi.
              The serial monitor (if open) will show something like:
              <code>[WIFI] Connected! IP: 192.168.1.123</code>. Write down that IP address &mdash; you'll need it
              in the next step!
            </div>
          </div>

          <div class="callout callout-info">
            <span class="callout-icon">&#128161;</span>
            <div>
              <strong>How to see the IP address:</strong> Run <code>pio device monitor</code> in your terminal
              after uploading. You'll see a scrolling log &mdash; look for a line that says
              <code>[WIFI] Connected! IP: 192.168.X.X</code>. That's the address you'll open in your browser.
            </div>
          </div>

          <div class="img-placeholder img-placeholder-sm">
            <span class="placeholder-icon">&#128248;</span>
            <span>Screenshot: Serial monitor showing the WiFi connected message with IP address highlighted</span>
          </div>

          <!-- STEP 7 -->
          <h2 id="step-7">Step 7: Connect your glucose data</h2>
          <p>
            Now for the fun part &mdash; connecting your glucose readings! Open a web browser on any
            device connected to the same WiFi network (your phone, tablet, or computer) and go to:
          </p>

          <div style="background: var(--charcoal); color: #a8e6cf; border-radius: var(--radius-sm); padding: 1rem 1.25rem; font-family: monospace; font-size: 1.1rem; margin: var(--space-sm) 0; text-align: center;">
            http://<span style="color: #f9e79f;">192.168.X.X</span>/config.html
          </div>

          <p>(Replace <code>192.168.X.X</code> with the IP address from Step 6.)</p>

          <p>You'll see the SugarClock configuration page. Here's how to set up each glucose data source:</p>

          <h3>Option A: Dexcom Share (most common)</h3>
          <p>If you use a Dexcom CGM (G6, G7, ONE, etc.):</p>
          <ol>
            <li>On the <strong>General</strong> tab, set <strong>Data Source</strong> to <strong>"Dexcom Share"</strong></li>
            <li>Enter your <strong>Dexcom username</strong> (the same one you use in the Dexcom app)</li>
            <li>Enter your <strong>Dexcom password</strong></li>
            <li>Choose your <strong>region</strong> (US or International)</li>
            <li>Click <strong>Save</strong></li>
          </ol>

          <div class="img-placeholder">
            <span class="placeholder-icon">&#128248;</span>
            <span>Screenshot: Config page showing Dexcom Share settings filled in</span>
          </div>

          <div class="callout callout-info">
            <span class="callout-icon">&#128161;</span>
            <div>
              <strong>Make sure Dexcom Share is enabled</strong> in your Dexcom app first.
              Open the Dexcom app &gt; Settings &gt; Share &gt; turn on sharing. You need at least
              one follower set up (you can use your own email).
            </div>
          </div>

          <h3>Option B: Nightscout or custom URL</h3>
          <p>If you use Nightscout or another CGM data server:</p>
          <ol>
            <li>On the <strong>General</strong> tab, set <strong>Data Source</strong> to <strong>"Custom URL"</strong></li>
            <li>Enter your <strong>server URL</strong> (e.g., <code>https://my-nightscout.herokuapp.com/api/glucose</code>)</li>
            <li>If your server requires a token, enter it in the <strong>Auth Token</strong> field</li>
            <li>Click <strong>Save</strong></li>
          </ol>

          <div class="callout callout-success">
            <span class="callout-icon">&#127881;</span>
            <div>
              <strong>Your glucose should appear within a minute!</strong> The clock will fetch your latest
              reading and display it in big, colorful numbers. Green means you're in range.
            </div>
          </div>

          <div class="img-placeholder">
            <span class="placeholder-icon">&#128248;</span>
            <span>Photo: Clock showing "102" in green with a flat arrow &mdash; the first successful reading!</span>
          </div>

          <!-- STEP 8 -->
          <h2 id="step-8">Step 8: Customize your display (optional)</h2>
          <p>
            Everything is working now! But there are lots of ways to make it yours.
            Go back to the config page in your browser to explore these options:
          </p>

          <div class="features-grid" style="margin-top: var(--space-sm);">
            <div class="feature-card">
              <div class="feature-icon orange">&#127919;</div>
              <h3>Set your thresholds</h3>
              <p>Customize what glucose levels count as "in range", "high", or "low" to match your personal goals.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon blue">&#128276;</div>
              <h3>Configure alerts</h3>
              <p>Turn on the buzzer for high or low glucose. Set your own alert thresholds and snooze duration.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon purple">&#127912;</div>
              <h3>Change colors</h3>
              <p>Choose custom colors for each glucose range on the Theme tab. Make it match your room!</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon green">&#127769;</div>
              <h3>Night mode</h3>
              <p>Set quiet hours so the display dims automatically when you're sleeping.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon blue">&#9728;&#65039;</div>
              <h3>Add weather</h3>
              <p>Show the current temperature by adding a free OpenWeatherMap API key in the Weather tab.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon green">&#128260;</div>
              <h3>Units</h3>
              <p>Switch between mg/dL and mmol/L, and between Fahrenheit and Celsius for weather.</p>
            </div>
          </div>

          <div class="img-placeholder" style="margin-top: var(--space-md);">
            <span class="placeholder-icon">&#128248;</span>
            <span>Screenshot: Config page showing the Display settings tab with brightness, night mode, and units options</span>
          </div>

          <!-- UNDERSTANDING THE DISPLAY -->
          <h2 id="understanding">Understanding the display</h2>
          <p>Here's what the different colors and messages on your clock mean:</p>

          <div style="overflow-x: auto;">
            <table class="comparison-table" style="margin: var(--space-sm) 0;">
              <thead>
                <tr>
                  <th>What you see</th>
                  <th>Color</th>
                  <th>What it means</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>A number (like <strong>102</strong>)</td>
                  <td><span style="color: var(--green); font-weight: 700;">Green</span></td>
                  <td>Your glucose is in range (80&ndash;180 mg/dL by default)</td>
                </tr>
                <tr>
                  <td>A number (like <strong>72</strong> or <strong>195</strong>)</td>
                  <td><span style="color: var(--orange); font-weight: 700;">Orange</span></td>
                  <td>Your glucose is low (70&ndash;80) or high (180&ndash;250)</td>
                </tr>
                <tr>
                  <td>A number (like <strong>58</strong> or <strong>280</strong>)</td>
                  <td><span style="color: var(--red); font-weight: 700;">Red</span></td>
                  <td>Urgent low (&lt;70) or urgent high (&gt;250)</td>
                </tr>
                <tr>
                  <td>Number with a <strong>!</strong> symbol</td>
                  <td><span style="color: var(--orange); font-weight: 700;">Yellow</span></td>
                  <td>The reading is 10&ndash;20 minutes old</td>
                </tr>
                <tr>
                  <td><strong>STALE</strong></td>
                  <td><span style="color: var(--orange); font-weight: 700;">Yellow</span></td>
                  <td>The reading is more than 20 minutes old</td>
                </tr>
                <tr>
                  <td>Time (like <strong>12:30</strong>)</td>
                  <td><span style="color: #1abc9c; font-weight: 700;">Teal</span></td>
                  <td>Clock mode (press left button to see this)</td>
                </tr>
                <tr>
                  <td>Temperature (like <strong>72*F</strong>)</td>
                  <td><span style="color: #1abc9c; font-weight: 700;">Teal</span></td>
                  <td>Weather mode (if enabled)</td>
                </tr>
                <tr>
                  <td><strong>NO DATA</strong></td>
                  <td><span style="color: var(--red); font-weight: 700;">Red</span></td>
                  <td>Can't reach your glucose data source &mdash; check your settings</td>
                </tr>
                <tr>
                  <td><strong>NO WIFI</strong></td>
                  <td><span style="color: var(--red); font-weight: 700;">Red</span></td>
                  <td>WiFi disconnected &mdash; check your network</td>
                </tr>
                <tr>
                  <td><strong>SETUP</strong></td>
                  <td><span style="font-weight: 700;">White</span></td>
                  <td>Not configured yet &mdash; follow Step 6 above</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3>Trend arrows</h3>
          <p>Next to your glucose number, you'll see an arrow showing the direction your glucose is moving:</p>
          <ul>
            <li><strong>&#8593;&#8593;</strong> &mdash; Rising fast</li>
            <li><strong>&#8599;</strong> &mdash; Rising slowly</li>
            <li><strong>&#8594;</strong> &mdash; Holding steady (flat)</li>
            <li><strong>&#8600;</strong> &mdash; Falling slowly</li>
            <li><strong>&#8595;&#8595;</strong> &mdash; Falling fast</li>
          </ul>

          <!-- BUTTONS -->
          <h2 id="buttons">Using the buttons</h2>
          <p>The clock has three small buttons on the top. Here's what they do:</p>

          <div style="overflow-x: auto;">
            <table class="comparison-table" style="margin: var(--space-sm) 0;">
              <thead>
                <tr>
                  <th>Button</th>
                  <th>Quick press</th>
                  <th>Long press (hold for 1+ second)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Left</strong></td>
                  <td>Switch between glucose, time, and weather views</td>
                  <td>Reset display to default view</td>
                </tr>
                <tr>
                  <td><strong>Middle</strong></td>
                  <td>Change brightness (dim &rarr; medium &rarr; bright &rarr; very bright)</td>
                  <td>Snooze a buzzer alert</td>
                </tr>
                <tr>
                  <td><strong>Right</strong></td>
                  <td>&mdash;</td>
                  <td>Reset display to default view</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="img-placeholder img-placeholder-sm">
            <span class="placeholder-icon">&#128248;</span>
            <span>Photo: Top of the clock with the three buttons labeled (Left, Middle, Right)</span>
          </div>

          <!-- TROUBLESHOOTING -->
          <h2 id="troubleshooting">Troubleshooting</h2>
          <p>Running into problems? Here are solutions to the most common issues.</p>

          <div class="faq-item open">
            <button class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              My computer doesn't recognize the clock when I plug it in
            </button>
            <div class="faq-answer" style="max-height: 500px;">
              <div class="faq-answer-inner">
                <ul>
                  <li><strong>Try a different USB-C cable.</strong> Some cables only carry power, not data. The cable that came with your phone usually works.</li>
                  <li><strong>Plug directly into your computer</strong>, not through a USB hub or dock.</li>
                  <li><strong>Install the CH340 driver</strong> (see Step 2c above).</li>
                  <li><strong>Try a different USB port</strong> on your computer.</li>
                  <li><strong>Restart your computer</strong> after installing the driver.</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              The upload command fails with a timeout error
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner">
                <p>You need to put the clock into "flash mode":</p>
                <ol>
                  <li>Unplug the USB cable</li>
                  <li>Press and hold the <strong>middle button</strong></li>
                  <li>While holding, plug the USB cable back in</li>
                  <li>Wait 1&ndash;2 seconds, then release</li>
                  <li>Try the upload command again</li>
                </ol>
              </div>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              The display says "NO WIFI"
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner">
                <ul>
                  <li>Double-check your WiFi name and password in the config file (spelling and capitalization matter!)</li>
                  <li>Make sure you're connecting to a <strong>2.4 GHz</strong> network. The clock doesn't support 5 GHz WiFi.</li>
                  <li>Move the clock closer to your WiFi router.</li>
                  <li>If your network name has special characters, try a simpler network name temporarily.</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              The display says "NO DATA"
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner">
                <ul>
                  <li><strong>Dexcom users:</strong> Make sure Dexcom Share is enabled in the Dexcom app (Settings &gt; Share &gt; turn on). You need at least one follower.</li>
                  <li>Double-check your Dexcom username and password on the config page.</li>
                  <li>Make sure you selected the correct region (US or International).</li>
                  <li>Visit the <strong>Debug</strong> page (<code>http://[your-ip]/debug.html</code>) to see error details.</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question" onclick="this.parentElement.classList.toggle('open')">
              I want to go back to the original clock software
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner">
                <p>
                  If you backed up the factory firmware before flashing (we recommend this!), you can restore it
                  with a single command. See the <a href="support.html#factory-restore">FAQ page</a> for instructions.
                  The process is the same as flashing &mdash; just with the backup file instead.
                </p>
              </div>
            </div>
          </div>

          <div class="callout callout-info" style="margin-top: var(--space-md);">
            <span class="callout-icon">&#128172;</span>
            <div>
              <strong>Still stuck?</strong> Don't worry &mdash; head over to the <a href="support.html">Help &amp; Support page</a>
              to reach out to the community or send us an email. We're happy to help!
            </div>
          </div>

        </div><!-- /guide-content -->
      </div><!-- /guide-layout -->
    </div>
  </section>

  <!-- ========== FOOTER ========== -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div>
          <div class="footer-brand"><span class="brand-dot" style="display:inline-block; width:8px; height:8px; background:var(--green); border-radius:50%;"></span> SugarClock</div>
          <p style="margin-top:0.5rem; font-size:0.9rem;">
            SugarClock — A DIY CGM display built on the Ulanzi TC001 pixel clock.
            Made with care for the diabetes community.
          </p>
        </div>
        <div>
          <h4>Pages</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="setup.html">Setup Guide</a></li>
            <li><a href="support.html">Help &amp; FAQ</a></li>
          </ul>
        </div>
        <div>
          <h4>Community</h4>
          <ul>
            <li><a href="#" target="_blank" rel="noopener">Discord Community</a></li>
            <li><a href="mailto:support@example.com">Email Support</a></li>
            <li><a href="#" target="_blank" rel="noopener">GitHub</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>SugarClock is an open-source DIY CGM display project. Not affiliated with Dexcom, Ulanzi, or any medical device manufacturer.</p>
        <p style="margin-top:0.5rem;">This is not a medical device. Always rely on your CGM receiver or app for treatment decisions.</p>
      </div>
    </div>
  </footer>

  <script>
    // FAQ accordion behavior
    document.querySelectorAll('.faq-item').forEach(function(item) {
      var answer = item.querySelector('.faq-answer');
      var inner = item.querySelector('.faq-answer-inner');
      if (item.classList.contains('open')) {
        answer.style.maxHeight = inner.scrollHeight + 'px';
      }
      item.querySelector('.faq-question').addEventListener('click', function() {
        if (item.classList.contains('open')) {
          answer.style.maxHeight = inner.scrollHeight + 'px';
        } else {
          answer.style.maxHeight = '0';
        }
      });
    });

    // Smooth sidebar highlight on scroll
    var sections = document.querySelectorAll('.guide-content h2[id]');
    var navLinks = document.querySelectorAll('.guide-nav a');
    window.addEventListener('scroll', function() {
      var scrollPos = window.scrollY + 120;
      sections.forEach(function(section) {
        if (section.offsetTop <= scrollPos) {
          navLinks.forEach(function(link) { link.classList.remove('active'); });
          var activeLink = document.querySelector('.guide-nav a[href="#' + section.id + '"]');
          if (activeLink) activeLink.classList.add('active');
        }
      });
    });
  </script>

</body>
</html>
